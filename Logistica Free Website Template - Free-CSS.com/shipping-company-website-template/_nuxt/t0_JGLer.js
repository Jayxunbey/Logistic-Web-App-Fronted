const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DTHqhfo3.js","./c1m8qkdf.js","./DlAUqK2U.js","./YyW3t6KU.js","./plyUuadH.js","./DVwSLOeJ.js"])))=>i.map(i=>d[i]);
import{k as w,Q as d,E as f,X as e,Y as i,H as V,a9 as T,U as v,u as t,V as j,I as p,R as S,Z as H,W as Y,D as Q,b as M,l as N,w as X,c as Z}from"./c1m8qkdf.js";import{_ as z}from"./YyW3t6KU.js";import{F as q,a as G}from"./BNWA2ULP.js";import{_ as J}from"./BCaFOzwy.js";import{f as R,u as O,i as K,Y as ee,e as se,n as oe,M as te}from"./plyUuadH.js";import{_ as W}from"./DlAUqK2U.js";import{S as I,_ as ae}from"./DTHqhfo3.js";import{p as ne}from"./BQOBHm4n.js";const de={class:"info-box-item d-flex justify-content-between align-items-center"},ie={class:"name"},le={class:"value"},re=w({__name:"InfoBoxItem",props:{item:{}},setup(c){return(o,s)=>(d(),f("div",de,[e("span",ie,i(o.item.name),1),e("span",le,i(o.item.value??o.$t("common.notSet")),1)]))}}),ce={class:"info-box-container"},me={class:"info-box"},_e={class:"header"},ue={class:"info-box-content"},pe=w({__name:"InfoBox",props:{header:{},items:{}},setup(c){return(o,s)=>{const m=re;return d(),f("div",ce,[e("div",me,[e("h6",_e,i(o.header),1),e("div",ue,[(d(!0),f(V,null,T(o.items,(a,_)=>(d(),v(m,{header:"",item:a,key:_},null,8,["item"]))),128))])])])}}}),ve=Y(()=>z(()=>import("./DTHqhfo3.js").then(c=>c.s),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(c=>c.default||c)),fe=Y(()=>z(()=>import("./DVwSLOeJ.js"),__vite__mapDeps([5,4,1,3]),import.meta.url).then(c=>c.default||c)),he={class:"info-box-container profile-edit-container"},be={class:"header mb-0"},ge={class:"avatar-container"},$e={class:"profile-avatar mt-2 mb-3",type:"button",for:"profileInput"},ye={class:"avatar-help-text"},ke={class:"input-container mb-16"},we={class:"input-box position-relative gray"},Ae={class:"input-group"},Ie={class:"form-floating"},xe={for:"user-first-name"},Se={class:"input-container mb-16"},Ne={class:"input-box position-relative gray"},Ce={class:"input-group"},Pe={class:"form-floating"},De={for:"user-last-name"},Ee={class:"input-container"},Fe={class:"input-box position-relative gray"},Ue={class:"input-group"},Be={class:"form-floating"},Le={for:"telegram-username"},Me={class:"text-end mt-40"},Ve=w({__name:"EditProfileForm",props:{profile:{}},setup(c){const o=R(),s=async(a,_,n)=>{if(!(await _()).valid)return;n().touched&&o.updateProfile(a)},m=a=>{const _=a.target;if(_&&_.files){const n=_.files[0],h=new FormData;h.append("avatar",n),o.updateProfile(h)}};return(a,_)=>{var u;const n=ve,h=fe,r=q,x=J,l=G;return d(),f("div",he,[e("h5",be,i(a.$t("common.accountContactInformation")),1),e("div",ge,[e("label",$e,[!t(o).profile&&t(o).isLoading?(d(),v(n,{key:0,count:"5"})):t(o).isUpdating?j("",!0):(d(),v(h,{key:1,width:"100",src:(u=t(o).profile)==null?void 0:u.avatar,title:"Casva"},null,8,["src"]))]),e("input",{type:"file",id:"profileInput",name:"avatar",onChange:m,class:"visually-hidden",accept:"image/png,image/jpg,image/png"},null,32),e("p",ye,i(a.$t("common.profilePhotoUpdateDescription")),1)]),p(l,{class:"inputs mt-24",onSubmit:()=>{}},{default:S(({values:b,validate:$,getMeta:y})=>{var g,k,A;return[e("div",ke,[e("div",we,[e("div",Ae,[e("div",Ie,[p(r,{type:"text",class:"form-control border-0 bg-transparent shadow-none",id:"user-first-name",name:"name",disabled:t(o).isUpdating,"model-value":(g=a.profile)==null?void 0:g.name,placeholder:a.$t("common.firstName")},null,8,["disabled","model-value","placeholder"]),e("label",xe,i(a.$t("common.firstName")),1)])])])]),e("div",Se,[e("div",Ne,[e("div",Ce,[e("div",Pe,[p(r,{type:"text",class:"form-control border-0 bg-transparent shadow-none",id:"user-last-name",name:"surname",disabled:t(o).isUpdating,"model-value":(k=a.profile)==null?void 0:k.surname,placeholder:a.$t("common.lastName")},null,8,["disabled","model-value","placeholder"]),e("label",De,i(a.$t("common.lastName")),1)])])])]),e("div",Ee,[e("div",Fe,[e("div",Ue,[e("div",Be,[p(r,{type:"text",class:"form-control border-0 bg-transparent shadow-none",id:"telegram-username",name:"telegram",disabled:t(o).isUpdating,"model-value":(A=a.profile)==null?void 0:A.telegram,placeholder:a.$t("common.telegramProfile")},null,8,["disabled","model-value","placeholder"]),e("label",Le,i(a.$t("common.telegramProfile"))+" ("+i(a.$t("common.weCanContactWithYouByTelegram"))+")",1)])])])]),e("div",Me,[p(x,{"on-click":()=>s(b,$,y),disabled:t(o).isUpdating,"is-loading":t(o).isUpdating},{default:S(()=>[H(i(a.$t("common.saveChanges")),1)]),_:2},1032,["on-click","disabled","is-loading"])])]}),_:1})])}}}),Te=W(Ve,[["__scopeId","data-v-03e0b6d0"]]),je={class:"saved-address-item"},Ye={class:"row d-flex"},ze={class:"col-9"},Re={class:"d-flex flex-column justify-content-between align-items-start h-100"},Oe={class:"details"},We={class:"name"},He={class:"address"},Qe={class:"col-3"},Xe={class:"map-container w-100"},Ze=w({__name:"SavedAddressItem",props:{address:{},index:{},onClickAddress:{type:Function}},setup(c){const o=O();return(s,m)=>(d(),f("div",je,[e("div",Ye,[e("div",ze,[e("div",Re,[e("div",Oe,[e("div",We,[e("span",null,i(s.address.label??s.$t("common.noDescription")),1)]),e("div",He,[e("span",null,i(s.address.address[0].address),1)]),e("button",{class:"py-1 px-0 text-decoration-underline edit-button",onClick:m[0]||(m[0]=()=>t(o).openEditAddress(s.address.id))},i(s.$t("common.edit")),1)]),e("button",{class:"text-decoration-underline delete-button text-danger",type:"button",onClick:m[1]||(m[1]=()=>t(o).openDeleteAddress(s.address.id))},i(s.$t("common.delete")),1)])]),e("div",Qe,[e("div",Xe,[p(t(ee),{class:"w-100 h-100",coordinates:[s.address.address[0].lat,s.address.address[0].lng],type:"hybrid",controls:[]},{default:S(()=>[p(t(K),{coordinates:[s.address.address[0].lat,s.address.address[0].lng],"marker-id":s.index},null,8,["coordinates","marker-id"])]),_:1},8,["coordinates"])])])])]))}}),qe=W(Ze,[["__scopeId","data-v-e2d170dd"]]),Ge={class:"saved-address-list mt-24"},Je={key:1,class:"text-center py-3"},Ke=w({__name:"SavedAddressList",props:{savedAddresses:{}},setup(c){return(o,s)=>{const m=qe;return d(),f("div",Ge,[o.savedAddresses.length?(d(!0),f(V,{key:0},T(o.savedAddresses,(a,_)=>(d(),v(m,{address:a,index:_},null,8,["address","index"]))),256)):(d(),f("h6",Je,i(o.$t("common.emptyList")),1))])}}}),es={class:"dashboard-content w-100 flex-grow-1 container g-0 p-0"},ss={class:"d-flex justify-content-between align-items-center w-100"},os={class:"lef-side d-flex align-items-center"},ts={class:"mb-1"},as={class:"settings"},ns={class:"row"},ds={class:"col-lg-6"},is={class:"col-lg-6"},ls={class:"info-box-container"},rs={class:"d-flex justify-content-between align-items-center"},cs={class:"header mb-0"},ms={key:0},_s={class:"py-4"},us={class:"py-4"},ps={class:"py-4"},ws=w({__name:"settings",setup(c){const o=R(),{t:s}=se();Q(()=>{x()}),oe({titleTemplate:l=>`${l} - ${s("sidebar.settings")}`});const m=M([]),a=M([]),_=O(),n=N(()=>o.profile),h=N(()=>o.companyInfo),r=N(()=>{var l,u;return((l=n.value)==null?void 0:l.is_external)!==1?(u=n.value)==null?void 0:u.company:h.value});X(()=>{var l,u,b,$,y,g,k,A,C,P,D,E,F,U,B,L;n.value&&(m.value=[{name:s("common.userId"),value:(l=n.value)==null?void 0:l.user_id},{name:s("common.phoneNumber"),value:ne(((u=n.value)==null?void 0:u.phone)??"")},{name:s("common.fullName"),value:`${(b=n.value)==null?void 0:b.surname} ${($=n.value)==null?void 0:$.name} ${(y=n.value)==null?void 0:y.middle_name}`},{name:s("common.accountStatus"),value:((g=n.value)==null?void 0:g.active)===1?s("common.statusActive"):s("common.statusBlocked")},{name:"Telegram",value:(k=n.value)!=null&&k.telegram?`@${(A=n.value)==null?void 0:A.telegram}`:"-"}]),r.value&&(a.value=[{name:s("common.companyId"),value:(C=r.value)==null?void 0:C.id.toString()},{name:s("common.companyName"),value:(P=r.value)==null?void 0:P.company_name},{name:s("common.status"),value:((D=r.value)==null?void 0:D.active)===1?s("common.statusActive"):s("common.statusBlocked")},{name:s("common.bankName"),value:(E=r.value)==null?void 0:E.bank},{name:s("common.companyAddress"),value:(F=r.value)==null?void 0:F.address},{name:s("common.bankAccount"),value:(U=r.value)==null?void 0:U.bank_account},{name:s("common.companyINN"),value:(B=r.value)==null?void 0:B.inn},{name:s("common.companyMFO"),value:(L=r.value)==null?void 0:L.mfo}])}),Z(n,()=>{x()});const x=()=>{var l;((l=n.value)==null?void 0:l.is_external)===1&&o.fetchCompanyInfo()};return(l,u)=>{const b=pe,$=Te,y=Ke,g=ae;return d(),v(g,null,{default:S(()=>[e("div",es,[e("header",ss,[e("div",os,[e("h3",ts,i(t(s)("sidebar.settings")),1)])]),e("section",as,[e("div",ns,[e("div",ds,[t(o).isLoading?(d(),v(I,{key:0,count:"3"})):(d(),v(b,{key:1,header:t(s)("common.accountInformation"),items:t(m)},null,8,["header","items"])),t(o).isLoading?(d(),v(I,{key:2,count:"2"})):t(a).length?(d(),v(b,{key:3,header:t(s)("common.companyInformation"),items:t(a)},null,8,["header","items"])):j("",!0),p($,{profile:t(o).profile},null,8,["profile"])]),e("div",is,[e("div",ls,[e("div",rs,[e("h5",cs,i(l.$t("common.savedAddresses")),1),e("button",{class:"add-address-btn text-decoration-underline",type:"button",onClick:u[0]||(u[0]=k=>t(_).openModal(t(te).NEW_ADDRESS))},i(l.$t("common.addAddress")),1)]),t(o).isLoadingSavedAddress?(d(),f("div",ms,[e("div",_s,[p(I,{count:"3"})]),e("div",us,[p(I,{count:"3"})]),e("div",ps,[p(I,{count:"3"})])])):(d(),v(y,{key:1,savedAddresses:t(o).savedAddresses},null,8,["savedAddresses"]))])])])])])]),_:1})}}});export{ws as default};
