const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DTHqhfo3.js","./c1m8qkdf.js","./DlAUqK2U.js","./YyW3t6KU.js","./plyUuadH.js","./Cnp2F-eG.js","./5rqTZ-Dl.js","./D379fQCP.js","./Cf0-BqhF.js","./DVwSLOeJ.js","./9sa6IpoK.js","./C4RgQdxm.js","./FveIol7Q.js","./BU2DFAQx.js","./BQOBHm4n.js"])))=>i.map(i=>d[i]);
import{S as x}from"./DTHqhfo3.js";import{_ as H}from"./D379fQCP.js";import{k as A,Q as i,E as _,X as o,Y as a,I as p,a3 as U,U as $,V as E,H as Q,a9 as W,u as s,W as g}from"./c1m8qkdf.js";import{_ as v}from"./YyW3t6KU.js";import{j as X,k as Y,u as Z,l as q,e as G,O as F,M as B,P as J}from"./plyUuadH.js";import{p as K}from"./BQOBHm4n.js";import{c as ee}from"./9sa6IpoK.js";import{R as w}from"./C73we6Xy.js";const oe={class:"header d-flex justify-content-between align-items-center"},te={class:"fw-medium"},ne={class:"order-status d-flex align-items-center"},re=o("div",{class:"indicator"},null,-1),se={class:"status"},ae=A({__name:"order-item",props:{order:{},isActive:{type:Boolean},onClickOrder:{type:Function}},setup(t){return(r,u)=>{const f=H;return i(),_("button",{class:U(["order-item",{active:r.isActive}]),type:"button",onClick:u[0]||(u[0]=(...m)=>r.onClickOrder&&r.onClickOrder(...m))},[o("div",oe,[o("span",te,"#"+a(r.order.id),1),o("div",ne,[re,o("span",se,a(r.$t(`orderStatuses.${r.order.status}`)),1)])]),p(f,{routes:r.order.routes,"way-in-progress":r.order.way_in_progress},null,8,["routes","way-in-progress"])],2)}}}),ie={key:1,class:"order-list overflow-y-auto mt-16"},de={key:0,class:"text-center px-1 py-2"},We=A({__name:"order-list",props:{orders:{},selectedOrder:{},isLoading:{type:Boolean},onClickOrder:{type:Function}},setup(t){return(r,u)=>{const f=x,m=ae;return i(),_("div",null,[r.isLoading?(i(),$(f,{key:0,count:"10"})):(i(),_("div",ie,[r.orders.length?E("",!0):(i(),_("h6",de,a(r.$t("common.emptyList")),1)),(i(!0),_(Q,null,W(r.orders,(b,k)=>{var O;return i(),$(m,{"is-active":b.id===((O=r.selectedOrder)==null?void 0:O.id),"on-click-order":()=>r.onClickOrder(k),order:b},null,8,["is-active","on-click-order","order"])}),256))]))])}}}),le=g(()=>v(()=>import("./DTHqhfo3.js").then(t=>t.s),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(t=>t.default||t)),_e=g(()=>v(()=>import("./Cnp2F-eG.js"),__vite__mapDeps([5,6,4,1,3,7,0,2]),import.meta.url).then(t=>t.default||t)),ce=g(()=>v(()=>import("./Cf0-BqhF.js"),__vite__mapDeps([8,9,4,1,3,10]),import.meta.url).then(t=>t.default||t)),me=g(()=>v(()=>import("./DVwSLOeJ.js"),__vite__mapDeps([9,4,1,3]),import.meta.url).then(t=>t.default||t)),pe=g(()=>v(()=>import("./C4RgQdxm.js"),__vite__mapDeps([11,12,1]),import.meta.url).then(t=>t.default||t)),ue=g(()=>v(()=>import("./BU2DFAQx.js"),__vite__mapDeps([13,12,1,4,3,14]),import.meta.url).then(t=>t.default||t)),fe={class:"order-details overflow-y-auto"},ye={key:1},he={class:"header d-flex justify-content-between align-items-center mb-24"},ge={class:"order-id m-0"},ve={key:0,class:"dropdown"},be=o("button",{class:"order-operations-button",type:"button","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false"},null,-1),ke={class:"dropdown-menu dd-menu-end dd-animated order-operations-menu"},Oe={class:"order-address-container d-flex flex-column flex-lg-row w-100"},we={class:"order-details-content"},Ee={class:"information-section mt-16"},$e={class:"d-flex justify-content-between align-items-center"},Ce={class:"truck-info-container"},ze={class:"header mb-24"},Ae={class:"truck-info-block"},De={class:"truck-name"},Re={class:"truck-dimensions"},Te={class:"truck-icon"},Le={class:"info-box-container"},Se={class:"info-box-container__info-box mt-1 d-flex justify-content-between align-items-center"},Ie={class:"info-box__info-name fw-bold fs-5"},Ne={class:"info-box__info fw-bolder fs-5"},Ve={key:0,class:"info-box-container mt-24"},Pe={key:2,class:"text-center px-1 py-2"},Xe=A({__name:"OrderDetails",props:{order:{}},setup(t){const r=t,u=X(),f=Y(),m=Z(),b=q(),k=()=>{const{order:e}=r,n=e==null?void 0:e.routes,C=b.truckTypes.findIndex(d=>d.id===(e==null?void 0:e.car_type_id)),z=b.parcelTypes.find(d=>d.id===(e==null?void 0:e.cargo_type.id))??null,y=[],h=[];for(const d in n){const l=n[+d];l.point==="from"?y.push({name:l.address,full_address:l.address,geometry:{location:{lat:+l.lat,lng:+l.lng}},type:w.from,region_id:null}):l.point==="to"&&h.push({name:n[+d].address,full_address:n[+d].address,geometry:{location:{lat:+l.lat,lng:+l.lng}},type:w.to,region_id:null})}return n&&(y.length===0&&(y[0]={name:n[0].address??"",full_address:n[0].address??"",geometry:{location:{lat:+n[0].lat,lng:+n[0].lng}},type:w.from,region_id:null}),h.length===0&&(h[0]={name:n[n.length-1].address??"",full_address:n[n.length-1].address??"",geometry:{location:{lat:+n[n.length-1].lat,lng:+n[n.length-1].lng}},type:w.from,region_id:null})),{from:y,to:h,truck_type:C??0,weight:(e==null?void 0:e.weight)??"",parcel_type:z,receiver_phone:(e==null?void 0:e.receiver_phone)??"",payer:e==null?void 0:e.payer,payment_type:(e==null?void 0:e.payment_type)??J.Cash,comment:(e==null?void 0:e.comment)??"",dimension_x:(e==null?void 0:e.dimension_x)??"",dimension_y:(e==null?void 0:e.dimension_y)??"",dimension_z:(e==null?void 0:e.dimension_z)??"",is_full_round_trip:(e==null?void 0:e.is_round_trip)??0,partial_percentage:(e==null?void 0:e.partial_percentage)??0}},O=()=>{var n;const e=k();f.$patch({createOrderData:{edit_order_id:(n=r.order)==null?void 0:n.id,...e}}),m.openModal(B.CREATE_ORDER)},M=()=>{const e=k();f.$patch({createOrderData:{...e,edit_order_id:null}}),m.openModal(B.CREATE_ORDER)},j=()=>{var e;m.openCancelModal(((e=r.order)==null?void 0:e.id)??0)},{t:c}=G();return(e,n)=>{var D,R,T,L,S,I,N,V,P;const C=le,z=_e,y=ce,h=me,d=pe,l=ue;return i(),_("section",fe,[s(u).isLoadingNewOrders?(i(),$(C,{key:0,count:"10"})):!s(u).isLoadingNewOrders&&e.order?(i(),_("div",ye,[o("div",he,[o("h6",ge,a(`${s(c)("common.orderDetails")}, #${e.order.id}`),1),e.order.status===s(F).Order?(i(),_("div",ve,[be,o("ul",ke,[o("li",null,[o("button",{type:"button",class:"dropdown-item",onClick:O},a(s(c)("common.editOrder")),1)]),o("li",null,[o("button",{type:"button",class:"dropdown-item text-danger",onClick:j},a(s(c)("common.cancelOrder")),1)])])])):E("",!0)]),o("div",Oe,[p(z,{order:e.order},null,8,["order"])]),o("div",we,[((R=(D=e.order)==null?void 0:D.booking_price_offer)==null?void 0:R.length)>0&&((T=e.order)==null?void 0:T.status)===s(F).Order?(i(),$(y,{key:0,offers:(L=e.order)==null?void 0:L.booking_price_offer},null,8,["offers"])):E("",!0),o("div",Ee,[o("div",$e,[o("div",Ce,[o("h6",ze,a(s(c)("common.truck")),1),o("div",Ae,[o("span",De,a(e.order.car_type.title),1),o("span",Re,a(e.order.car_type.dim_x)+"x"+a(e.order.car_type.dim_y)+"x"+a(e.order.car_type.dim_z),1)])]),o("div",Te,[p(h,{src:((I=(S=e.order)==null?void 0:S.car_type)==null?void 0:I.icon)??"",width:"150",alt:(V=(N=e.order)==null?void 0:N.car_type)==null?void 0:V.title,preload:""},null,8,["src","alt"])])]),o("div",Le,[o("div",Se,[o("span",Ie,a(s(c)("common.price")),1),o("span",Ne,a(s(ee)(e.order.price))+" UZS",1)])]),(P=e.order)!=null&&P.driver?(i(),_("div",Ve,[p(d,{data:{name:s(c)("common.carrier"),value:`${e.order.driver.name} ${e.order.driver.surname}`}},null,8,["data"]),p(d,{data:{name:s(c)("common.rating"),value:e.order.driver.rating}},null,8,["data"]),p(d,{data:{name:s(c)("common.phoneNumber"),value:("phoneNumberFormatter"in e?e.phoneNumberFormatter:s(K))(e.order.driver.phone)}},null,8,["data"])])):E("",!0)]),p(l,{order:e.order,"repeat-order-action":M},null,8,["order"])])])):(i(),_("h6",Pe,a(s(c)("common.selectOrderFromLeft")),1))])}}});export{We as _,Xe as a};
