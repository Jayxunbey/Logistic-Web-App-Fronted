const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C5Er7wMu.js","./YyW3t6KU.js","./BDqHcNE6.js","./plyUuadH.js","./c1m8qkdf.js","./DlAUqK2U.js","./DTiHiY-5.js"])))=>i.map(i=>d[i]);
import{S as P,_ as W}from"./DTHqhfo3.js";import{_ as F}from"./B2NNCUlh.js";import G from"./BDqHcNE6.js";import{f as V,e as L,j as z,R as Q,i as X,Y as Z,u as q,n as J,M as K}from"./plyUuadH.js";import{k as O,D as j,Q as r,E as _,u as e,X as s,Y as n,V as g,I as l,R as w,Z as A,U as h,b as I,l as ss,H as es,a9 as os,P as ts,ae as ns,af as rs,ag as as,a4 as is,a5 as cs,W as B}from"./c1m8qkdf.js";import{_ as Y}from"./YyW3t6KU.js";import{_ as ds}from"./5rqTZ-Dl.js";import{_ as _s}from"./D379fQCP.js";import{_ as H}from"./DlAUqK2U.js";import"./DVwSLOeJ.js";const ls={class:"statistics"},ps={key:0,class:"wrapper"},ms={class:"row"},us={class:"col-xl-3"},hs={class:"info-wrapper"},fs={class:"info-row"},vs={class:"name p-0 m-0"},gs={key:0,class:"description"},ws={class:"numbers mt-16 w-100 d-flex justify-content-between align-items-center"},bs={class:"col-xl-3"},$s={class:"info-wrapper"},xs={class:"info-row"},ys={class:"name p-0 m-0"},ks={class:"description"},Ss={class:"numbers mt-16 w-100 d-flex justify-content-between align-items-center"},Os={class:"number"},Cs={class:"col-xl-3"},Is={class:"info-wrapper"},Ps={class:"info-row"},Ls={class:"name p-0 m-0"},Es={class:"description"},Ms={class:"numbers mt-16 w-100 d-flex justify-content-between align-items-center"},Ds={class:"number"},Ts={class:"col-xl-3"},Ns={class:"info-wrapper"},Rs={class:"info-row"},Vs={class:"name p-0 m-0"},zs={class:"description"},js={class:"numbers mt-16 w-100 d-flex justify-content-between align-items-center"},As={class:"number"},Bs=O({__name:"statistics",setup(i){const o=V(),{t:p}=L(),a=z();return j(()=>{a.fetchDashboardStatistics()}),(t,$)=>{var m,d,v,c,u,x,y;const b=G,f=P;return r(),_("section",ls,[!e(o).isLoading||e(a).isLoadingDashboardStatistics?(r(),_("div",ps,[s("div",ms,[s("div",us,[s("div",hs,[s("div",fs,[s("h4",vs,n(`${((m=e(o).profile)==null?void 0:m.name)??""} ${((d=e(o).profile)==null?void 0:d.surname)??""}`),1),(v=e(o).profile)!=null&&v.company_name?(r(),_("span",gs,n((c=e(o).profile)==null?void 0:c.company_name),1)):g("",!0)]),s("div",ws,[l(b,{to:e(Q).SETTINGS,class:"text-decoration-underline"},{default:w(()=>[A(n(e(p)("dashboard.myProfile")),1)]),_:1},8,["to"])])])]),s("div",bs,[s("div",$s,[s("div",xs,[s("h4",ys,n(t.$t("common.ordersCreated")),1),s("span",ks,n(t.$t("common.atMonth")),1)]),s("div",Ss,[s("span",Os,n((u=e(a).dashboardStatistics)==null?void 0:u.allOrdersCount),1)])])]),s("div",Cs,[s("div",Is,[s("div",Ps,[s("h4",Ls,n(t.$t("common.ordersInProgress")),1),s("span",Es,n(t.$t("common.atMonth")),1)]),s("div",Ms,[s("span",Ds,n((x=e(a).dashboardStatistics)==null?void 0:x.processingOrdersCount),1)])])]),s("div",Ts,[s("div",Ns,[s("div",Rs,[s("h4",Vs,n(t.$t("common.ordersDone")),1),s("span",zs,n(t.$t("common.atMonth")),1)]),s("div",js,[s("span",As,n((y=e(a).dashboardStatistics)==null?void 0:y.doneOrdersCount),1)])])])])])):(r(),h(f,{key:1,count:"3"}))])}}}),Ys={class:"tracking-details-item"},Hs={class:"tracking-details-header w-100"},Us={class:"tracking-details-header text-center"},Ws={class:"details"},Fs=O({__name:"tracking-details-item",props:{order:{}},setup(i){return(o,p)=>{const a=ds,t=_s;return r(),_("div",Ys,[s("div",Hs,[s("p",Us," #"+n(o.order.id),1)]),s("div",Ws,[l(a,{status:o.order.status},null,8,["status"]),l(t,{routes:o.order.routes,wayInProgress:o.order.way_in_progress},null,8,["routes","wayInProgress"])])])}}}),C=i=>(is("data-v-5f9b25c3"),i=i(),cs(),i),Gs={class:"widget-container order-tracking-widget h-100"},Qs={class:"widget h-100"},Xs={class:"widget-header"},Zs={class:"tracking position-relative h-100"},qs={class:"tracking-details position-absolute bottom-0 top-0 right-0 z-3 w-100"},Js={class:"row h-100"},Ks={class:"col-12 col-lg-10 offset-lg-2 col-xl-8 offset-xl-4 col-xxl-6 offset-xxl-6 h-100"},se={class:"tracking-details-content d-flex flex-column position-relative"},ee={key:0,class:"tracking-details-controls position-absolute py-3 z-3"},oe=C(()=>s("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)),te=C(()=>s("span",{class:"visually-hidden"},"Previous",-1)),ne=[oe,te],re=C(()=>s("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)),ae=C(()=>s("span",{class:"visually-hidden"},"Next",-1)),ie=[re,ae],ce={key:3,class:"fw-bold fs-5"},de={key:4,href:"#",class:"secondary-button bg-transparent w-100 mt-40"},_e=O({__name:"OrderTrackingWidget",setup(i){const o=z(),p=I(!1),a={slidesPerView:1,autoplay:{delay:1e3,stopOnLastSlide:!1},loop:!0},t=I(null),{t:$}=L(),b=c=>t.value=c,f=c=>{t.value&&(c==="prev"?t.value.slidePrev():t.value.slideNext())},m=I(0),d=ss(()=>o.processingOrders[m.value]),v=c=>{m.value=c.activeIndex};return j(()=>{p.value=!0}),(c,u)=>{var E,M,D,T;const x=Fs,y=rs,U=as;return r(),_("div",Gs,[s("div",Qs,[s("div",Xs,[s("h5",null,n(e($)("dashboard.orderTracking")),1)]),s("div",Zs,[d.value&&d.value.driver&&e(p)?(r(),h(e(Z),{key:0,class:"w-100 h-100",coordinates:[+((M=(E=d.value)==null?void 0:E.driver)==null?void 0:M.lat),+((T=(D=d.value)==null?void 0:D.driver)==null?void 0:T.lng)],zoom:17,"map-type":"hybrid",controls:[]},{default:w(()=>{var k,S,N,R;return[l(e(X),{coordinates:[+((S=(k=d.value)==null?void 0:k.driver)==null?void 0:S.lat),+((R=(N=d.value)==null?void 0:N.driver)==null?void 0:R.lng)],type:"Point","marker-id":d.value.id},null,8,["coordinates","marker-id"])]}),_:1},8,["coordinates"])):g("",!0),s("div",qs,[s("div",Js,[s("div",Ks,[s("div",se,[!e(o).isLoadingProcessingOrders&&e(o).processingOrders.length?(r(),_("div",ee,[s("button",{class:"carousel-control-prev",type:"button",onClick:u[0]||(u[0]=()=>f("prev"))},ne),s("button",{class:"carousel-control-next",type:"button",onClick:u[1]||(u[1]=()=>f("next"))},ie)])):g("",!0),e(o).isLoadingProcessingOrders?(r(),h(P,{key:1,count:"7"})):e(o).processingOrders.length?(r(),h(U,ts({key:2},a,{onSlideChange:v,class:"flex-grow-1 flex-shrink-0 w-100",modules:[e(ns)],controller:{control:e(t)},onSwiper:b}),{default:w(()=>[(r(!0),_(es,null,os(e(o).processingOrders,(k,S)=>(r(),h(y,{key:S},{default:w(()=>[l(x,{order:k},null,8,["order"])]),_:2},1024))),128))]),_:1},16,["modules","controller"])):(r(),_("span",ce,n(c.$t("common.emptyOrderList")),1)),!e(o).isLoadingProcessingOrders&&e(o).processingOrders.length?(r(),_("button",de,n(e($)("common.orderDetails")),1)):g("",!0)])])])])])])])}}}),le=H(_e,[["__scopeId","data-v-5f9b25c3"]]),pe=B(()=>Y(()=>import("./C5Er7wMu.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(i=>i.default||i)),me=B(()=>Y(()=>import("./DTiHiY-5.js"),__vite__mapDeps([6,1,4,3,5]),import.meta.url).then(i=>i.default||i)),ue={},he={class:"widgets d-block d-lg-flex mt-24 _widgets_"},fe={class:"row gx-0 flex-grow-1"},ve={class:"col-xl-8 col-lg-6 col-12 h-100"},ge={class:"col-xl-4 col-lg-6 col-12 h-100"};function we(i,o){const p=le,a=pe,t=me;return r(),_("section",he,[s("div",fe,[s("div",ve,[l(p)]),s("div",ge,[l(a),l(t)])])])}const be=H(ue,[["render",we],["__scopeId","data-v-21e24741"]]),$e={class:"dashboard-content w-100 flex-grow-1"},xe={class:"d-flex justify-content-between align-items-center w-100"},ye={class:"lef-side d-flex align-items-center"},ke={key:1},Ne=O({__name:"index",setup(i){const o=V(),p=q(),{t:a}=L();return J({titleTemplate:t=>`${t} - ${a("sidebar.main")}`}),(t,$)=>{const b=P,f=F,m=Bs,d=be,v=W;return r(),h(v,null,{default:w(()=>{var c;return[s("div",$e,[s("header",xe,[s("div",ye,[e(o).isLoading?(r(),h(b,{key:0,count:"2",width:"400px"})):g("",!0),e(o).profile?(r(),_("h3",ke,n(e(a)("dashboard.welcome",{user:(c=e(o).profile)==null?void 0:c.name})),1)):g("",!0)]),l(f,{"on-click":()=>e(p).openModal(e(K).CREATE_ORDER)},{default:w(()=>[A(n(e(a)("common.createOrder")),1)]),_:1},8,["on-click"])]),s("div",null,[l(m),l(d)])])]}),_:1})}}});export{Ne as default};
